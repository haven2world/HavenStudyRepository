<script type="text/javascript" src='./test.js'></script>
<script>
	function _shouldExchange(a,b){
		return a-b>0;
	}

	function swap(list,a,b){
		let temp = list[a];
		list[a] = list[b];
		list[b] = temp;
	}

	function sort(list, shouldExchange=_shouldExchange){
		let count = 0;

		for(let time=0;time<list.length-1;++time){
			let secondSmallIndex = null;
			let minIndex = time;
			for(let i=time+1;i<list.length;++i){
				++count;
				if(shouldExchange(list[minIndex],list[i])){
					secondSmallIndex = minIndex;
					minIndex = i;
				}else if(secondSmallIndex===null){
					secondSmallIndex = i;
				}else if(shouldExchange(list[secondSmallIndex],list[i])){
					secondSmallIndex = i;
				}
			}

			swap(list,time,minIndex);
			if(secondSmallIndex===time){
				secondSmallIndex = minIndex;
			}
			if(secondSmallIndex ){
				++count;
				++time;
				swap(list,time,secondSmallIndex);
			}
		}

		console.log(count);
		return list;
	}
	
	test(sort)
	debugger
	console.log(sort([-2149.2171726856777, -1857.273969672093, -3466.102240703384, 3722.6672060607966, 3654.0245253634153, -5353.28578475456] ))
	console.log(sort([5,1,3,6,9,7,4,2,10,11]))
	console.log(sort([{num:1,index:1},{num:5},{num:1,index:2},{num:3},{num:6},{num:9},{num:7},{num:4},{num:2}],function(a,b){return a.num-b.num>0}))

</script>